# 🚀 2단계 - 요구 사항 정리

### TIP

- 범용적인 단어 선택 을 하도록 한다.
- 요구사항은 개발자 뿐만 아니라 기획자, 디자이너 등 다양한 이해관계자가 이해할 수 있도록 작성하는 것이 좋은데, 모두가 이해할 수 있도록 잘 작성 해보자.

## 참고 예제

- 간단한 포켓몬 게임을 구현한다.
- 트레이너
    - [ ]  사용자는 트레이너라고 부른다.
    - [ ]  트레이너는 아이디를 등록할 수 있고 등록한 아이디로 로그인할 수 있어야 한다.
    - [ ]  트레이너는 레벨을 가지고 있으며 포켓몬을 잡을 때마다 레벨이 1씩 증가한다.
    - [ ]  레벨은 30까지 증가한다.
    - [ ]  최초 로그인 시 이상해씨, 파이리, 꼬부기 중 한 마리를 선택할 수 있다.
    - [ ]  가지고 있는 포켓몬 목록을 볼 수 있다.
    - [ ]  가지고 있는 아이템 목록을 볼 수 있다.
- 포켓몬
    - [ ]  전국 도감 번호 1번부터 151번까지의 포켓몬이 무작위로 등장한다.
    - [ ]  포켓몬은 고유의 포획률을 가지고 있다.
    - [ ]  트레이너는 가지고 있는 몬스터볼을 소비함으로써 포켓몬을 잡을 수 있다.
    - [ ]  포획률 = (포켓몬의 포획률 * 몬스터볼 보정 승수 * (레벨 11 이상의 트레이너 레벨 / 10)) * 100 / 255
    - [ ]  잡은 포켓몬은 닉네임을 지어 붙일 수 있다.
- 아이템
    - [ ]  몬스터볼은 고유의 보정 승수를 가지고 있다.
      (몬스터볼: 1.0, 수퍼볼: 1.5, 하이퍼볼: 2.0, 마스터볼: 255)

### 요구사항

- 키친포스 도메인의 기능및/요구사항을 도메인 이해도를 높히기 위해 분석한다.

---

## 🏘️ MenuGroup
### 메뉴 그룹

- [ ] 메뉴 그룹은 ID, 이름을 갖는다.
- [ ] 메뉴 그룹을 등록할 수 있다
    - [ ] 메뉴 그룹 이름은 비어있거나 공백일 수 없다
- [ ] 메뉴 그룹 목록을 조회할 수 있다.

> - 여러 메뉴의 묶음 단위를 메뉴 그룹이라고 한다.

## 📒 Menu
### 메뉴 

- [ ] 메뉴는 ID, 이름, 가격, 메뉴 그룹, 노출 상태, 메뉴 제품 목록을 포함한다.
- [ ] 메뉴를 등록할 수 있다
    - [ ] 메뉴는 메뉴 그룹에 속해야 한다.
    - [ ] 메뉴는 적어도 하나의 메뉴 항목을 포함해야 한다.
    - [ ] 하나의 메뉴에 여러 제품을 구성할 수 있다.
    - [ ] 메뉴의 가격은 메뉴에 포함된 제품들의 가격 합계이다.
        - [ ] 메뉴 가격은 제품 가격 * 수량의 합보다 작거나 같아야 한다.
    - [ ] 메뉴 이름은 비어 있거나 외설적인 내용을 포함할 수 없다.
- [ ] 메뉴 가격을 변경할 수 있다
    - [ ] 가격 값은 존재해야 하며 양수여야 한다.
    - [ ] 메뉴 가격이 상품 가격 * 수량의 총합보다 작거나 같지 않으면 노출할 수 없다
  > - 메뉴 가격 변경 조건 : (제품 가격 * 수량 합계) >= 메뉴 가격
- [ ] 메뉴를 숨기거나 노출할 수 있다
    - [ ] 기존 메뉴만 노출 및 숨김 처리할 수 있다.
    - [ ] 메뉴의 가격이 메뉴에 포함된 제품들의 총 가격보다 큰 경우 노출 할 수 없다.
  > - 메뉴 노출 조건: (제품 가격 * 총 제품 수량) >= 메뉴 가격
- [ ] 메뉴 목록을 조회 할 수 있다. 

## ✏️ Order
### 주문

- [ ] 주문은 유형, 상태, 주문 시간, 주문 제품 목록, 배송 주소, 주문 테이블 정보를 포함한다.
    - [ ] 주문 유형은 총 세 가지 상태를 가진다.
        - DELIVERY: 배달
        - TAKEOUT: 포장
        - EAT_IN: 매장 식사
    - [ ] 주문 상태 는 총 여섯 가지 상태를 가진다.
        - WAITING: 대기 중
        - ACCEPTED: 접수 완료
        - SERVED: 서빙 중
        - DELIVERING: 배달 중
        - DELIVERED: 배달 완료
        - COMPLETED: 완료됨
- [ ] 주문을 등록할 수 있다
    - [ ] 주문 유형과 주문 제품 값이 존재해야 한다.
    - [ ] 메뉴에 없는 항목은 주문할 수 없다.
    - [ ] 매장 식사가 아닌 경우, 주문 수량은 0 이상이어야 한다.
    - [ ] 노출되지 않은 메뉴는 주문할 수 없다.
    - [ ] 메뉴 가격이 제품 가격 * 수량의 합보다 작거나 같은 경우 주문할 수 없다.
- [ ] 주문 상태를 접수 상태 (ACCEPTED) 로 변경 할 수 있다.
  - [ ] 변경하고자 하는 주문은 존재하는 주문이어야한다.
  - [ ] 주문 상태가 대기 중 (WAITING) 인 경우 접수상태로 변경 할 수 없다.
  - [ ] 주문 상태가 배달 중 (DELIVERY) 인 경우 (주문고유 번호, 주문의 가격, 배달 주소) 정보를 배달기사 배정 회사에 보내서 배달을 요청해야한다. 
- [ ] 주문 상태를 서빙 상태로 변경 할 수 있다.
  - [ ] 변경하고자 하는 주문은 존재하는 주문이어야한다.
  - [ ] 주문 상태가 접수 (ACCEPTED) 상태 여야 한다.
- [ ] 주문 상태를 배달 상태로 변경 할 수 있다.
  - [ ] 변경하고자 하는 주문은 존재하는 주문이어야한다.
  - [ ] 주문 상태가 수락 상태가 아니라면 배달 상태로 변경할 수 없다.
    - [ ] 주문 유형이 배달 상태여야 한다
    - [ ] 주문 상태가 서빙 중 () 이여야 한다
- [ ] 주문 상태를 배달 완료 상태로 변경 할 수 있다.
  - [ ] 변경하고자 하는 주문은 존재하는 주문이여야 한다.
  - [ ] 주문 유형이 배달 (DELIVERING) 상태 이여야 한다.
- [ ] 주문 상태를 완료 상태로 변경 할 수 있다.
  - [ ] 변경하고자 하는 주문은 존재하는 주문이여야 한다.
  - [ ] 주문 유형이 배달 (DELIVERY) 상태 일 경우, 주문 상태가 배달 완료 (DELIVERED) 상태 이여야 한다.
  - [ ] 주문 유형이 포장 (TAKEOUT) 상태 이거나, 주문 유형이 매장 식사 (EAT_IN) 상태 일 경우, 주문 상태가 서빙 완료 (SERVED) 상태 이여야 한다.
  - [ ] 주문 유형이 매장 식사 (EAT_IN) 상태 일 경우, 해당 테이블에 대한 다른 진행 중인 주문이 있는지 확인한다.
    - [ ] 만약 해당 테이블에 진행 중인 주문이 없다면, 고객이 식사를 마치고 떠난 것으로 간주하고 테이블을 초기화 한다 (다른 손님을 받을 준비)
- [ ] 주문을 전체 조회 할 수 있다

## 🛒 OrderLineItem
### 주문 목록

- [ ] 주문 상품은 ID, 메뉴, 수량 (메뉴 주문 수량) 을 갖는다

## 🪑 OrderTable
### 주문 테이블

- [ ] 주문 테이블은 ID, 이름, 인원, 점유 여부 를 갖는다.
- [ ] 주문 테이블을 등록할 수 있다.
    - [ ] 주문 테이블 이름은 비어 있거나 공백일 수 없다.
- [ ] 주문 테이블을 착석 상태로 수정한다.
    - [ ] 주문 테이블이 존재 하는 경우 점유 여부를 착석으로 수정한다.
- [ ] 주문 테이블을 초기화 상태로 수정한다.
    - [ ] 주문 테이블이 존재 하는 경우 착석인원을 0으로, 점유 여부 가능 으로 수정한다.
- [ ] 주문 테이블의 인원정보를 수정 할 수 있다.
  - [ ] 테이블은 존재하는 테이블이여야 한다. 
  - [ ] 테이블 인원은 0명 이상이어야 한다.
  - [ ] 테이블 점유 상태 이어야 한다.
- [ ] 주문 테이블 목록을 조회한다.

## 🎁 Product
### 상품

- [ ] 상품은 ID, 이름, 가격을 갖는다.
- [ ] 상품을 등록할 수 있다
    - [ ] 이름은 비어있을 수 없고 비속어를 포함 할 수 없다.
    - [ ] 가격은 비어있을 수 없고 0원 이상이다
- [ ] 상품 가격을 변경할 수 있다.
    - [ ] 존재하는 상품만 변경 가능하다
    - [ ] 메뉴 가격은 상품 가격 * 수량의 총합보다 작거나 같지 않으면 메뉴를 숨긴다 (노출 중지)
    - > - 상품 가격 변경 조건 : (상품 가격 * 수량 합계) >= 메뉴 가격
- [ ] 상품 목록을 조회한다.